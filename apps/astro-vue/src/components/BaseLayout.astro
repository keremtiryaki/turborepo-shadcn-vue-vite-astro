---
import "shadcn-vue/src/assets/index.css";
import ToasterContainer from "./ToasterContainer.vue";
import SideMenu from "./SideMenu.vue";
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro</title>
		<script is:inline>
			const getThemePreference = () => {
				if (
					typeof localStorage !== "undefined" &&
					localStorage.getItem("theme")
				) {
					return localStorage.getItem("theme");
				}
				return window.matchMedia("(prefers-color-scheme: dark)").matches
					? "dark"
					: "light";
			};
			const isDark = getThemePreference() === "dark";
			document.documentElement.classList[isDark ? "add" : "remove"]("dark");

			if (typeof localStorage !== "undefined") {
				const observer = new MutationObserver(() => {
					const isDark = document.documentElement.classList.contains("dark");
					localStorage.setItem("theme", isDark ? "dark" : "light");
				});
				observer.observe(document.documentElement, {
					attributes: true,
					attributeFilter: ["class"],
				});
			}
		</script>
	</head>
	<body>
		<style>
			:root {
				--background: 36 39% 88%;
				--foreground: 36 45% 15%;
				--primary: 36 45% 70%;
				--primary-foreground: 36 45% 11%;
				--secondary: 40 35% 77%;
				--secondary-foreground: 36 45% 25%;
				--accent: 36 64% 57%;
				--accent-foreground: 36 72% 17%;
				--destructive: 0 84% 37%;
				--destructive-foreground: 0 0% 98%;
				--muted: 36 33% 75%;
				--muted-foreground: 36 45% 25%;
				--card: 36 46% 82%;
				--card-foreground: 36 45% 20%;
				--popover: 0 0% 100%;
				--popover-foreground: 240 10% 3.9%;
				--border: 36 45% 60%;
				--input: 36 45% 60%;
				--ring: 36 45% 30%;
				--chart-1: 25 34% 28%;
				--chart-2: 26 36% 34%;
				--chart-3: 28 40% 40%;
				--chart-4: 31 41% 48%;
				--chart-5: 35 43% 53%;
			}

			.dark {
				--background: 36 39% 88%;
				--foreground: 36 45% 15%;
				--primary: 36 45% 70%;
				--primary-foreground: 36 45% 11%;
				--secondary: 40 35% 77%;
				--secondary-foreground: 36 45% 25%;
				--accent: 36 64% 57%;
				--accent-foreground: 36 72% 17%;
				--destructive: 0 84% 37%;
				--destructive-foreground: 0 0% 98%;
				--muted: 36 33% 75%;
				--muted-foreground: 36 45% 25%;
				--card: 36 46% 82%;
				--card-foreground: 36 45% 20%;
				--popover: 0 0% 100%;
				--popover-foreground: 240 10% 3.9%;
				--border: 36 45% 60%;
				--input: 36 45% 60%;
				--ring: 36 45% 30%;
				--chart-1: 25 34% 28%;
				--chart-2: 26 36% 34%;
				--chart-3: 28 40% 40%;
				--chart-4: 31 41% 48%;
				--chart-5: 35 43% 53%;
			}
		</style>
		<SideMenu client:load />
		<slot />
		<ToasterContainer client:load />
	</body>
</html>
